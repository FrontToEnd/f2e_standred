<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>Vue 项目优化实践-规范篇 | 智器云</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/f2e_standred/favicon.ico">
    <meta name="description" content="智器云大数据前端开发规范">
    <link rel="preload" href="/f2e_standred/assets/css/0.styles.4e71d8fc.css" as="style"><link rel="preload" href="/f2e_standred/assets/js/app.72858c04.js" as="script"><link rel="preload" href="/f2e_standred/assets/js/2.3b4d6e1e.js" as="script"><link rel="preload" href="/f2e_standred/assets/js/34.cac2117d.js" as="script"><link rel="prefetch" href="/f2e_standred/assets/js/10.3167e56c.js"><link rel="prefetch" href="/f2e_standred/assets/js/11.9074b1ae.js"><link rel="prefetch" href="/f2e_standred/assets/js/12.9da03d16.js"><link rel="prefetch" href="/f2e_standred/assets/js/13.f64e72c9.js"><link rel="prefetch" href="/f2e_standred/assets/js/14.66701d9d.js"><link rel="prefetch" href="/f2e_standred/assets/js/15.655a214d.js"><link rel="prefetch" href="/f2e_standred/assets/js/16.b5c59ffa.js"><link rel="prefetch" href="/f2e_standred/assets/js/17.3dafb5f7.js"><link rel="prefetch" href="/f2e_standred/assets/js/18.c50ef054.js"><link rel="prefetch" href="/f2e_standred/assets/js/19.036665c6.js"><link rel="prefetch" href="/f2e_standred/assets/js/20.c3ec8502.js"><link rel="prefetch" href="/f2e_standred/assets/js/21.468483ae.js"><link rel="prefetch" href="/f2e_standred/assets/js/22.365cfd83.js"><link rel="prefetch" href="/f2e_standred/assets/js/23.1970b645.js"><link rel="prefetch" href="/f2e_standred/assets/js/24.f36958fa.js"><link rel="prefetch" href="/f2e_standred/assets/js/25.9588f950.js"><link rel="prefetch" href="/f2e_standred/assets/js/26.a7f4538e.js"><link rel="prefetch" href="/f2e_standred/assets/js/27.a0380fae.js"><link rel="prefetch" href="/f2e_standred/assets/js/28.72d270ed.js"><link rel="prefetch" href="/f2e_standred/assets/js/29.187aa293.js"><link rel="prefetch" href="/f2e_standred/assets/js/3.1eed06c3.js"><link rel="prefetch" href="/f2e_standred/assets/js/30.d21a70f2.js"><link rel="prefetch" href="/f2e_standred/assets/js/31.541ded4a.js"><link rel="prefetch" href="/f2e_standred/assets/js/32.edc8f3fc.js"><link rel="prefetch" href="/f2e_standred/assets/js/33.2277f45e.js"><link rel="prefetch" href="/f2e_standred/assets/js/35.08b63ac6.js"><link rel="prefetch" href="/f2e_standred/assets/js/36.c438672e.js"><link rel="prefetch" href="/f2e_standred/assets/js/37.b878d026.js"><link rel="prefetch" href="/f2e_standred/assets/js/38.11ee6710.js"><link rel="prefetch" href="/f2e_standred/assets/js/39.97961b98.js"><link rel="prefetch" href="/f2e_standred/assets/js/4.4a148623.js"><link rel="prefetch" href="/f2e_standred/assets/js/40.9af12117.js"><link rel="prefetch" href="/f2e_standred/assets/js/41.6ac12529.js"><link rel="prefetch" href="/f2e_standred/assets/js/42.08bde2b6.js"><link rel="prefetch" href="/f2e_standred/assets/js/43.1d15a355.js"><link rel="prefetch" href="/f2e_standred/assets/js/44.001f7e07.js"><link rel="prefetch" href="/f2e_standred/assets/js/45.a471c763.js"><link rel="prefetch" href="/f2e_standred/assets/js/46.083b23cc.js"><link rel="prefetch" href="/f2e_standred/assets/js/47.7a21879e.js"><link rel="prefetch" href="/f2e_standred/assets/js/48.4ff82afa.js"><link rel="prefetch" href="/f2e_standred/assets/js/49.3c85f569.js"><link rel="prefetch" href="/f2e_standred/assets/js/5.70c67b70.js"><link rel="prefetch" href="/f2e_standred/assets/js/50.50a6170b.js"><link rel="prefetch" href="/f2e_standred/assets/js/51.c609a729.js"><link rel="prefetch" href="/f2e_standred/assets/js/6.36ef3494.js"><link rel="prefetch" href="/f2e_standred/assets/js/7.4b893627.js"><link rel="prefetch" href="/f2e_standred/assets/js/8.d9341198.js"><link rel="prefetch" href="/f2e_standred/assets/js/9.d63f1cf0.js">
    <link rel="stylesheet" href="/f2e_standred/assets/css/0.styles.4e71d8fc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="ant-row"><div class="sidebar-button"><i aria-label="icon: bars" class="anticon anticon-bars"><svg viewBox="0 0 1024 1024" focusable="false" data-icon="bars" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"></path></svg></i> <span></span></div> <div class="ant-col ant-col-xs-24 ant-col-sm-24 ant-col-md-6 ant-col-lg-5 ant-col-xl-5 ant-col-xxl-4"><a href="/f2e_standred/" class="router-link-active home-link"><img src="/f2e_standred/img/logo.png" alt="智器云" class="logo"> <span class="site-name">智器云</span></a> <div class="search-box mobile-search"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div> <div class="ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-18 ant-col-lg-19 ant-col-xl-19 ant-col-xxl-20"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><ul role="menu" id="nav" class="ant-menu ant-menu-horizontal ant-menu-root ant-menu-light"><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/f2e_standred/" class="router-link-active">
          首页
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/f2e_standred/guide/JavaScript.html">
          规范
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/f2e_standred/article/optimize/vue_optimize_gzip.html">
          文章
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li></ul> <!----></nav></div></div> <!----></header> <aside class="sidebar"><!----> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>项目优化实践</span> <span class="arrow down"><i aria-label="icon: down" class="anticon anticon-down"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/f2e_standred/article/optimize/vue_optimize_gzip.html" title="Vue 项目优化实践-Gzip 篇" class="sidebar-link">Vue 项目优化实践-Gzip 篇</a></li><li><a href="/f2e_standred/article/optimize/vue_optimize_webpack.html" title="Vue 项目优化实践-webpack 篇" class="sidebar-link">Vue 项目优化实践-webpack 篇</a></li><li><a href="/f2e_standred/article/optimize/vue_optimize_branch.html" title="Vue 项目优化实践-优化逻辑判断" class="sidebar-link">Vue 项目优化实践-优化逻辑判断</a></li><li><a href="/f2e_standred/article/optimize/vue_optimize_standard.html" title="Vue 项目优化实践-规范篇" class="active sidebar-link">Vue 项目优化实践-规范篇</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/f2e_standred/article/optimize/vue_optimize_standard.html#持久化存储" title="持久化存储" class="sidebar-link">持久化存储</a></li><li class="sidebar-sub-header"><a href="/f2e_standred/article/optimize/vue_optimize_standard.html#editorconfig-具体配置" title="Editorconfig 具体配置" class="sidebar-link">Editorconfig 具体配置</a></li><li class="sidebar-sub-header"><a href="/f2e_standred/article/optimize/vue_optimize_standard.html#prettier-规范" title="Prettier 规范" class="sidebar-link">Prettier 规范</a></li><li class="sidebar-sub-header"><a href="/f2e_standred/article/optimize/vue_optimize_standard.html#git-commit-规范" title="git-commit 规范" class="sidebar-link">git-commit 规范</a></li><li class="sidebar-sub-header"><a href="/f2e_standred/article/optimize/vue_optimize_standard.html#eslint-规范" title="ESlint 规范" class="sidebar-link">ESlint 规范</a></li><li class="sidebar-sub-header"><a href="/f2e_standred/article/optimize/vue_optimize_standard.html#ignore-规范" title="ignore 规范" class="sidebar-link">ignore 规范</a></li><li class="sidebar-sub-header"><a href="/f2e_standred/article/optimize/vue_optimize_standard.html#vue-项目目录规范" title="Vue 项目目录规范" class="sidebar-link">Vue 项目目录规范</a></li><li class="sidebar-sub-header"><a href="/f2e_standred/article/optimize/vue_optimize_standard.html#流程规范" title="流程规范" class="sidebar-link">流程规范</a></li></ul></li><li><a href="/f2e_standred/article/optimize/vue_optimize_commit.html" title="优雅的提交 Git Commit Message" class="sidebar-link">优雅的提交 Git Commit Message</a></li><li><a href="/f2e_standred/article/optimize/tailwindcss.html" title="Vue项目引入tailwind.css" class="sidebar-link">Vue项目引入tailwind.css</a></li><li><a href="/f2e_standred/article/optimize/Performance.html" title="性能优化指标" class="sidebar-link">性能优化指标</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>技术探索</span> <span class="arrow right"><i aria-label="icon: down" class="anticon anticon-down"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>技术总结</span> <span class="arrow right"><i aria-label="icon: down" class="anticon anticon-down"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue相关</span> <span class="arrow right"><i aria-label="icon: down" class="anticon anticon-down"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>代码片段</span> <span class="arrow right"><i aria-label="icon: down" class="anticon anticon-down"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>资源收集</span> <span class="arrow right"><i aria-label="icon: down" class="anticon anticon-down"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>杂记</span> <span class="arrow right"><i aria-label="icon: down" class="anticon anticon-down"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i></span></p> <!----></section></li></ul></aside> <main class="page"> <div class="theme-antdocs-content content__default"><h1 id="vue-项目优化实践-规范篇"><a href="#vue-项目优化实践-规范篇" class="header-anchor">#</a> Vue 项目优化实践-规范篇</h1> <h2 id="持久化存储"><a href="#持久化存储" class="header-anchor">#</a> 持久化存储</h2> <p>使用 <a href="https://github.com/localForage/localForage" target="_blank" rel="noopener noreferrer"><code>localForage</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 来实现本地存储，该库会优先使用 <code>IndexedDB</code> 以扩大本地存储空间，并采用优雅降级方案，处理了异常情况。
<code>localStorage</code> 有存储限制，所以在存储空间用完的情况下，进行 <code>setItem</code> 操作就会报 <code>QuotaExceededError</code> 的错。
事实上，在某些浏览器（如 iOS 11 的 Safari 浏览器）的无痕模式下，<code>localStorage</code> 也是无法读写的，进行 <code>setItem</code> 操作会报一样的 <code>QuotaExceededError</code> 错。</p> <p>建议：</p> <ul><li>用 <code>try...catch</code> 包裹 <code>setItem</code> 操作。</li> <li>转存至<code>vuex</code>。</li></ul> <h2 id="editorconfig-具体配置"><a href="#editorconfig-具体配置" class="header-anchor">#</a> Editorconfig 具体配置</h2> <p>配置文件 <code>.editorconfig</code></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>root <span class="token operator">=</span> <span class="token boolean">true</span>

<span class="token punctuation">[</span>*<span class="token punctuation">]</span>
indent_style <span class="token operator">=</span> space                    <span class="token comment"># 输入的 tab 都用空格代替</span>
indent_size <span class="token operator">=</span> <span class="token number">2</span>                         <span class="token comment"># 一个 tab 用 2 个空格代替</span>
end_of_line <span class="token operator">=</span> lf                        <span class="token comment"># 换行符使用 unix 的换行符 \n</span>
charset <span class="token operator">=</span> utf-8                         <span class="token comment"># 字符编码 utf-8</span>
trim_trailing_whitespace <span class="token operator">=</span> <span class="token boolean">true</span>         <span class="token comment"># 去掉每行末尾的空格</span>
insert_final_newline <span class="token operator">=</span> <span class="token boolean">true</span>             <span class="token comment"># 每个文件末尾都加一个空行</span>

<span class="token punctuation">[</span>*.md<span class="token punctuation">]</span>
trim_trailing_whitespace <span class="token operator">=</span> <span class="token boolean">false</span>        <span class="token comment"># .md 文件不去掉每行末尾的空格</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="prettier-规范"><a href="#prettier-规范" class="header-anchor">#</a> Prettier 规范</h2> <p>具体配置如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// prettier.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 在ES5中有效的结尾逗号（对象，数组等）</span>
  trailingComma<span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
  <span class="token comment">// 不使用缩进符，而使用空格</span>
  useTabs<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token comment">// tab 用两个空格代替</span>
  tabWidth<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token comment">// 仅在语法可能出现错误的时候才会添加分号</span>
  semi<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token comment">// 使用单引号</span>
  singleQuote<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">// 在Vue文件中缩进脚本和样式标签。</span>
  vueIndentScriptAndStyle<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">// 一行最多 100 字符</span>
  printWidth<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
  <span class="token comment">// 对象的 key 仅在必要时用引号</span>
  quoteProps<span class="token operator">:</span> <span class="token string">'as-needed'</span><span class="token punctuation">,</span>
  <span class="token comment">// jsx 不使用单引号，而使用双引号</span>
  jsxSingleQuote<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token comment">// 大括号内的首尾需要空格</span>
  bracketSpacing<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">// jsx 标签的反尖括号需要换行</span>
  jsxBracketSameLine<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token comment">// 箭头函数，只有一个参数的时候，也需要括号</span>
  arrowParens<span class="token operator">:</span> <span class="token string">'always'</span><span class="token punctuation">,</span>
  <span class="token comment">// 每个文件格式化的范围是文件的全部内容</span>
  rangeStart<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  rangeEnd<span class="token operator">:</span> <span class="token number">Infinity</span><span class="token punctuation">,</span>
  <span class="token comment">// 不需要写文件开头的 @prettier</span>
  requirePragma<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token comment">// 不需要自动在文件开头插入 @prettier</span>
  insertPragma<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token comment">// 使用默认的折行标准</span>
  proseWrap<span class="token operator">:</span> <span class="token string">'preserve'</span><span class="token punctuation">,</span>
  <span class="token comment">// 根据显示样式决定 html 要不要折行</span>
  htmlWhitespaceSensitivity<span class="token operator">:</span> <span class="token string">'css'</span><span class="token punctuation">,</span>
  <span class="token comment">// 换行符使用 lf</span>
  endOfLine<span class="token operator">:</span> <span class="token string">'lf'</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h2 id="git-commit-规范"><a href="#git-commit-规范" class="header-anchor">#</a> git-commit 规范</h2> <p>通过提交规范插件 <a href="https://github.com/luoxue-victor/commitlint" target="_blank" rel="noopener noreferrer"><code>vue-cli-plugin-commitlint</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 进行代码的提交规范（该插件基于 <code>conventional-changelog-angular</code> 进行了修改/封装）。
具体用法参考github链接。</p> <h2 id="eslint-规范"><a href="#eslint-规范" class="header-anchor">#</a> ESlint 规范</h2> <p>每个规则对应的 <code>0，1，2</code> 分别表示 <code>off, warning, error</code> 三个错误级别。
具体配置如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  root<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  parserOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
    ecmaVersion<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token comment">// 指定ECMAScript的版本为 6</span>
    parser<span class="token operator">:</span> <span class="token string">&quot;@typescript-eslint/parser&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 解析 ts</span>
    sourceType<span class="token operator">:</span> <span class="token string">&quot;module&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 全局变量</span>
  globals<span class="token operator">:</span> <span class="token punctuation">{</span>
    window<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    document<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    wx<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 兼容环境</span>
  env<span class="token operator">:</span> <span class="token punctuation">{</span>
    browser<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 插件</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;plugin:vue/essential&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;@vue/standard&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 规则</span>
  rules<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 末尾不加分号，只有在有可能语法错误时才会加分号</span>
    semi<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token comment">// 箭头函数需要有括号 (a) =&gt; {}</span>
    <span class="token string">&quot;arrow-parens&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token comment">// 两个空格缩进， switch 语句中的 case 为 1 个空格</span>
    indent<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>
      <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        SwitchCase<span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 关闭不允许回调未定义的变量</span>
    <span class="token string">&quot;standard/no-callback-literal&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token comment">// 关闭副作用的 new</span>
    <span class="token string">&quot;no-new&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// 关闭每行最大长度小于 80</span>
    <span class="token string">&quot;max-len&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token comment">// 函数括号前面不加空格</span>
    <span class="token string">&quot;space-before-function-paren&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;never&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 关闭要求 require() 出现在顶层模块作用域中</span>
    <span class="token string">&quot;global-require&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token comment">// 关闭关闭类方法中必须使用this</span>
    <span class="token string">&quot;class-methods-use-this&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token comment">// 关闭禁止对原生对象或只读的全局对象进行赋值</span>
    <span class="token string">&quot;no-global-assign&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token comment">// 关闭禁止对关系运算符的左操作数使用否定操作符</span>
    <span class="token string">&quot;no-unsafe-negation&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token comment">// 关闭禁止使用 console</span>
    <span class="token string">&quot;no-console&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token comment">// 关闭禁止末尾空行</span>
    <span class="token string">&quot;eol-last&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token comment">// 关闭强制在注释中 // 或 /* 使用一致的空格</span>
    <span class="token string">&quot;spaced-comment&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token comment">// 关闭禁止对 function 的参数进行重新赋值</span>
    <span class="token string">&quot;no-param-reassign&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token comment">// 强制使用一致的换行符风格 (linebreak-style)</span>
    <span class="token string">&quot;linebreak-style&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;unix&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 关闭全等 === 校验</span>
    <span class="token string">&quot;eqeqeq&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// 禁止使用拖尾逗号</span>
    <span class="token string">&quot;comma-dangle&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;never&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 关闭强制使用骆驼拼写法命名约定</span>
    <span class="token string">&quot;camelcase&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br></div></div><h2 id="ignore-规范"><a href="#ignore-规范" class="header-anchor">#</a> ignore 规范</h2> <h3 id="gitignore-规范"><a href="#gitignore-规范" class="header-anchor">#</a> gitignore 规范</h3> <p>同步到远程仓库时予以忽略的文件及文件夹。基础配置如下，各项目也可以根据需求自行调整。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>.DS_Store
node_modules
/dist

<span class="token comment"># local env files</span>
.env.local
.env.*.local

<span class="token comment"># Log files</span>
npm-debug.log*
yarn-debug.log*
yarn-error.log*

<span class="token comment"># Editor directories and files</span>
.idea
.vscode
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="eslintignore-规范"><a href="#eslintignore-规范" class="header-anchor">#</a> eslintignore 规范</h3> <p><code>eslint</code> 校验时予以忽略的文件及文件夹。基础配置如下，各项目也可以根据需求自行调整。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>node_modules
dist/
test/
lib/
es/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="vue-项目目录规范"><a href="#vue-项目目录规范" class="header-anchor">#</a> Vue 项目目录规范</h2> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>├── dist                        // <span class="token punctuation">[</span>生成<span class="token punctuation">]</span> 打包目录
├── src                         // <span class="token punctuation">[</span>必选<span class="token punctuation">]</span> 开发目录
│    ├── views                  // <span class="token punctuation">[</span>必选<span class="token punctuation">]</span> 页面组件，不允许有其他类型组件混入
│    ├── components             // <span class="token punctuation">[</span>必选<span class="token punctuation">]</span> 业务组件必须写在这里
│    ├── libs                   // <span class="token punctuation">[</span>可选<span class="token punctuation">]</span> 公共库（一般用于对一些库的封装）
│    ├── utils                  // <span class="token punctuation">[</span>可选<span class="token punctuation">]</span> 工具库（用于一些函数方法之类的库）
│    ├── assets                 // <span class="token punctuation">[</span>可选<span class="token punctuation">]</span> 公共资源（被项目引用的经过webpack处理的资源）
│    ├── store                  // <span class="token punctuation">[</span>可选<span class="token punctuation">]</span> 数据存储 vuex
│    ├── route                  // <span class="token punctuation">[</span>可选<span class="token punctuation">]</span> 路由
│    ├── style                  // <span class="token punctuation">[</span>可选<span class="token punctuation">]</span> 公共样式
│    ├── App.vue                // <span class="token punctuation">[</span>必选<span class="token punctuation">]</span> 根组件
│    └── main.<span class="token punctuation">(</span>js<span class="token operator">|</span>ts<span class="token punctuation">)</span>           // <span class="token punctuation">[</span>必选<span class="token punctuation">]</span> 入口文件
├── public                      // <span class="token punctuation">[</span>必选<span class="token punctuation">]</span> 不会被webpack编译的资源
│    ├── index.html             // <span class="token punctuation">[</span>必选<span class="token punctuation">]</span> 模板
│    └── logo.png               // <span class="token punctuation">[</span>可选<span class="token punctuation">]</span> 项目 logo
├── config                      // <span class="token punctuation">[</span>可选<span class="token punctuation">]</span> 配置目录
├── mock                        // <span class="token punctuation">[</span>可选<span class="token punctuation">]</span> mock 数据
├── <span class="token builtin class-name">test</span>                        // <span class="token punctuation">[</span>可选<span class="token punctuation">]</span> 测试代码
├── docs                        // <span class="token punctuation">[</span>可选<span class="token punctuation">]</span> 文档
│── .gitignore                  // <span class="token punctuation">[</span>必选<span class="token punctuation">]</span> <span class="token function">git</span> 忽略的文件
│── .editorconfig               // <span class="token punctuation">[</span>必选<span class="token punctuation">]</span> 编译器配置
│── .npmignore                  // <span class="token punctuation">[</span>可选<span class="token punctuation">]</span> 如果是 <span class="token function">npm</span> 包是必选
│── jsconfig.json               // <span class="token punctuation">[</span>可选<span class="token punctuation">]</span> 用于 vscode 配置
├── README.md                   // <span class="token punctuation">[</span>必选<span class="token punctuation">]</span> 导读
├── package.json                // <span class="token punctuation">[</span>必选<span class="token punctuation">]</span> 大家都懂
└── <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>                      // <span class="token punctuation">[</span>可选<span class="token punctuation">]</span> 一些工具的配置，如果 babel.config.js 等
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><code>components</code> 只写公共组件，页面附带组件写在 <code>views</code> 内。</p> <h2 id="流程规范"><a href="#流程规范" class="header-anchor">#</a> 流程规范</h2> <h3 id="npm-包版本号规则"><a href="#npm-包版本号规则" class="header-anchor">#</a> npm 包版本号规则</h3> <p>主版本号.次版本号.修订号</p> <p>版本号递增规则如下：</p> <ul><li>主版本号：当做了不兼容的 API 修改，</li> <li>次版本号：当做了向下兼容的功能性新增，</li> <li>修订号：当做了向下兼容的问题修正。先行版本号及版本编译信息可以加到“主版本号.次版本号.修订号”的后面，作为延伸。</li> <li>当主版本号升级后，次版本号和修订号需要重置为 0，次版本号进行升级后，修订版本需要重置为 0。</li></ul> <p>关于测试版本后缀命名：</p> <ul><li>alpha：初期内测版，可能比较不稳定, 如：1.0.0-alpha.1。</li> <li>beta：中期内测，但会持续加入新的功能。</li> <li>rc：Release Candidate，发行候选版本。RC 版不会再加入新的功能了，主要着重于除错，处在 beta 版之后，正式版之前</li></ul> <h3 id="semver：semantic-version-语义化版本"><a href="#semver：semantic-version-语义化版本" class="header-anchor">#</a> semver：semantic version 语义化版本</h3> <ul><li>固定版本：例如 1.0.1、1.2.1-beta.0 这样表示包的特定版本的字符串</li> <li>范围版本：是对满足特定规则的版本的一种表示，例如 1.0.3-2.3.4、1.x、^0.2、&gt;1.4</li></ul> <h3 id="语义化说明"><a href="#语义化说明" class="header-anchor">#</a> 语义化说明</h3> <p>用到的语义化字符有：~、&gt;、&lt;、=、&gt;=、&lt;=、-、||、x、X、*</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>- <span class="token string">'^2.1.1'</span> // <span class="token number">2</span>.x最新版本<span class="token punctuation">(</span>主版本号锁定<span class="token punctuation">)</span>
- <span class="token string">'~2.1.1'</span> // <span class="token number">2.1</span>.x最新版本号<span class="token punctuation">(</span>主和次版本号锁定<span class="token punctuation">)</span>
- <span class="token string">'&gt;2.1'</span>   // 高于2.1版本的最新版本
- <span class="token string">'1.0.0 - 1.2.0'</span> // 两个版本之间最新的版本（必须要有空格）
- <span class="token string">'*'</span>      // 最新的版本号
- <span class="token string">'3.x'</span>    // 对应x部分最新的版本号
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><code>npm install</code> 默认安装 ^x.x.x 类型的版本，用于兼容大版本下最新的版本。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/f2e_standred/article/optimize/vue_optimize_branch.html" class="prev"><i aria-label="icon: left" class="anticon anticon-left"><svg viewBox="64 64 896 896" focusable="false" data-icon="left" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg></i>
        Vue 项目优化实践-优化逻辑判断
      </a></span> <span class="next"><a href="/f2e_standred/article/optimize/vue_optimize_commit.html">
        优雅的提交 Git Commit Message
        <i aria-label="icon: right" class="anticon anticon-right"><svg viewBox="64 64 896 896" focusable="false" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></i></a></span></p></div> </main> <!----></div><div class="global-ui"><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:65px;bottom:0px;width:135px;height:300px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="135" height="300" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div></div></div>
    <script src="/f2e_standred/assets/js/app.72858c04.js" defer></script><script src="/f2e_standred/assets/js/2.3b4d6e1e.js" defer></script><script src="/f2e_standred/assets/js/34.cac2117d.js" defer></script>
  </body>
</html>